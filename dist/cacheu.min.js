!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.Cacheu=t():e.Cacheu=t()}(self,(()=>(()=>{"use strict";var e={d:(t,a)=>{for(var o in a)e.o(a,o)&&!e.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:a[o]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};e.r(t),e.d(t,{default:()=>d});var a,o,i,r,s,n,c,l=function(e,t,a,o){if("a"===a&&!o)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===a?o:"a"===a?o.call(e):o?o.value:t.get(e)};class f{constructor(e={}){a.add(this),o.config=Object.assign(Object.assign({},o.config),e),setInterval((()=>o.cleanup()),1e3*o.config.cleanup),l(this,a,"m",c).call(this)}static create(e){new o(e)}static set(e,t,a=o.config.ttl,i=!1){o.data[e]={expires:0===a?0:Date.now()+1e3*a,value:t,persist:i},i?l(this,o,"m",r).call(this,e):l(this,o,"m",s).call(this,e)}static get(e,t=null){return o.has(e)?o.data[e].value:t}static has(e){const t=o.data[e];return!!t&&!l(this,o,"m",i).call(this,t.expires)}static remove(e){var t;(null===(t=o.data[e])||void 0===t?void 0:t.persist)&&l(this,o,"m",s).call(this,e),delete o.data[e]}static removeAll(){var e;for(const t in o.data)(null===(e=o.data[t])||void 0===e?void 0:e.persist)&&l(this,o,"m",s).call(this,t);o.data={}}static cleanup(){for(const[e,t]of Object.entries(o.data))l(this,o,"m",i).call(this,t.expires)&&o.remove(e)}}o=f,a=new WeakSet,i=function(e){return 0!==e&&e<Date.now()},r=function(e){if(o.data[e]){const t=JSON.stringify(o.data[e]);localStorage.setItem(`${o.config.persistPrefixKey}_${e}`,t)}},s=function(e){localStorage.removeItem(`${o.config.persistPrefixKey}_${e}`)},n=function(e){const t=localStorage.getItem(`${o.config.persistPrefixKey}_${e}`);t&&(o.data[e]=JSON.parse(t))},c=function(){for(let e=0;e<localStorage.length;e++){const t=localStorage.key(e);if(t&&t.startsWith(o.config.persistPrefixKey)){const e=t.replace(new RegExp(`^${o.config.persistPrefixKey}_`),"");l(this,a,"m",n).call(this,e)}}},f.config={ttl:600,cleanup:3600,persistPrefixKey:"CACHE"},f.data={};const d=f;return t})()));